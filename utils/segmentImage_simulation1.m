function [BW,maskedImage] = segmentImage_simulation1(X)
%segmentImage Segment image using auto-generated code from imageSegmenter app
%  [BW,MASKEDIMAGE] = segmentImage(X) segments image X using auto-generated
%  code from the imageSegmenter app. The final segmentation is returned in
%  BW, and a masked image is returned in MASKEDIMAGE.

% Auto-generated by imageSegmenter app on 15-Nov-2024
%----------------------------------------------------


% Adjust data to span data range.
X = imadjust(X);

% 图割
foregroundInd = [5353 8555 11757 11759 14963 18167 18169 21373 21375 24577 24579 24581 24583 27785 27787 30989 30991 30993 34195 34197 34199 37401 37403 37405 40609 43811 43813 43815 47017 47019 50221 53425 56629 59831 59833 63037 ];
backgroundInd = [12286 12288 12290 12292 12294 12296 12298 14792 14804 14812 14820 14826 14832 14836 14838 14840 15504 15506 17960 18036 18710 18714 21146 21226 21924 21932 24330 25142 27616 27879 28354 30718 30786 30792 30796 30798 30804 30808 30810 30814 30816 30818 30820 30822 30824 30826 30828 31209 31564 33902 33958 33962 33976 33982 34008 34034 34036 34040 37088 37122 37124 37128 37130 37132 37134 37136 37138 37140 37142 37144 37146 37148 37150 37154 37244 37974 40400 40448 40450 40452 40454 40456 40935 41186 43480 43530 43660 43662 43664 44394 46660 46666 46672 46740 46792 46868 46870 46872 46874 47600 47604 49820 49822 49824 49826 49828 49830 49834 49838 49840 49842 49846 49852 49854 49858 49948 49956 49964 49976 49984 50076 50078 50080 50082 50084 50702 50708 50710 50714 50718 50724 50728 50736 50740 50746 50754 50760 50768 50776 50784 50790 50796 50802 50806 50810 50812 50814 50816 53288 53290 53292 53294 56500 56502 56506 56508 56510 56512 56514 56516 56518 56520 56522 56524 56526 56528 56530 56532 56534 ];
L = superpixels(X,428);
BW = lazysnapping(X,L,foregroundInd,backgroundInd);

% Create masked image.
maskedImage = X;
maskedImage(~BW) = 0;
end

